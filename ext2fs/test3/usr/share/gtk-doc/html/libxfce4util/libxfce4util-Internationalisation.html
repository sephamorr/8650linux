<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Internationalization</title>
<meta name="generator" content="DocBook XSL Stylesheets V1.78.1">
<link rel="home" href="index.html" title="libxfce4util Reference Manual">
<link rel="up" href="libxfce4util-fundamentals.html" title="Xfce Fundamentals">
<link rel="prev" href="libxfce4util-Version-Information.html" title="Version Information">
<link rel="next" href="libxfce4util-Software-Licenses.html" title="Software Licenses">
<meta name="generator" content="GTK-Doc V1.18 (XML mode)">
<link rel="stylesheet" href="style.css" type="text/css">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<table class="navigation" id="top" width="100%" summary="Navigation header" cellpadding="2" cellspacing="2">
<tr valign="middle">
<td><a accesskey="p" href="libxfce4util-Version-Information.html"><img src="left.png" width="24" height="24" border="0" alt="Prev"></a></td>
<td><a accesskey="u" href="libxfce4util-fundamentals.html"><img src="up.png" width="24" height="24" border="0" alt="Up"></a></td>
<td><a accesskey="h" href="index.html"><img src="home.png" width="24" height="24" border="0" alt="Home"></a></td>
<th width="100%" align="center">libxfce4util Reference Manual</th>
<td><a accesskey="n" href="libxfce4util-Software-Licenses.html"><img src="right.png" width="24" height="24" border="0" alt="Next"></a></td>
</tr>
<tr><td colspan="5" class="shortcuts">
<a href="#libxfce4util-Internationalisation.synopsis" class="shortcut">Top</a>
                   | 
                  <a href="#libxfce4util-Internationalisation.description" class="shortcut">Description</a>
</td></tr>
</table>
<div class="refentry">
<a name="libxfce4util-Internationalisation"></a><div class="titlepage"></div>
<div class="refnamediv"><table width="100%"><tr>
<td valign="top">
<h2><span class="refentrytitle"><a name="libxfce4util-Internationalisation.top_of_page"></a>Internationalization</span></h2>
<p>Internationalization — Internationalization and Localization Support Functions</p>
</td>
<td valign="top" align="right"></td>
</tr></table></div>
<div class="refsynopsisdiv">
<a name="libxfce4util-Internationalisation.synopsis"></a><h2>Synopsis</h2>
<pre class="synopsis">
#include &lt;libxfce4util/libxfce4util.h&gt;

<span class="returnvalue">void</span>                <a class="link" href="libxfce4util-Internationalisation.html#xfce-textdomain" title="xfce_textdomain ()">xfce_textdomain</a>                     (<em class="parameter"><code>const <span class="type">gchar</span> *package</code></em>,
                                                         <em class="parameter"><code>const <span class="type">gchar</span> *localedir</code></em>,
                                                         <em class="parameter"><code>const <span class="type">gchar</span> *encoding</code></em>);
<span class="returnvalue">gchar</span> *             <a class="link" href="libxfce4util-Internationalisation.html#xfce-get-file-localized" title="xfce_get_file_localized ()">xfce_get_file_localized</a>             (<em class="parameter"><code>const <span class="type">gchar</span> *filename</code></em>);
<span class="returnvalue">gchar</span> *             <a class="link" href="libxfce4util-Internationalisation.html#xfce-get-file-localized-r" title="xfce_get_file_localized_r ()">xfce_get_file_localized_r</a>           (<em class="parameter"><code><span class="type">gchar</span> *buffer</code></em>,
                                                         <em class="parameter"><code><span class="type">gsize</span> length</code></em>,
                                                         <em class="parameter"><code>const <span class="type">gchar</span> *filename</code></em>);
<span class="returnvalue">gchar</span> *             <a class="link" href="libxfce4util-Internationalisation.html#xfce-get-dir-localized" title="xfce_get_dir_localized ()">xfce_get_dir_localized</a>              (<em class="parameter"><code>const <span class="type">gchar</span> *directory</code></em>);
<span class="returnvalue">gchar</span> *             <a class="link" href="libxfce4util-Internationalisation.html#xfce-get-dir-localized-r" title="xfce_get_dir_localized_r ()">xfce_get_dir_localized_r</a>            (<em class="parameter"><code><span class="type">gchar</span> *buffer</code></em>,
                                                         <em class="parameter"><code><span class="type">gsize</span> length</code></em>,
                                                         <em class="parameter"><code>const <span class="type">gchar</span> *directory</code></em>);
<span class="returnvalue">gchar</span> *             <a class="link" href="libxfce4util-Internationalisation.html#xfce-get-path-localized" title="xfce_get_path_localized ()">xfce_get_path_localized</a>             (<em class="parameter"><code><span class="type">gchar</span> *dst</code></em>,
                                                         <em class="parameter"><code><span class="type">gsize</span> size</code></em>,
                                                         <em class="parameter"><code>const <span class="type">gchar</span> *paths</code></em>,
                                                         <em class="parameter"><code>const <span class="type">gchar</span> *filename</code></em>,
                                                         <em class="parameter"><code><span class="type">GFileTest</span> test</code></em>);
#define             <a class="link" href="libxfce4util-Internationalisation.html#XFCE-LOCALE-FULL-MATCH:CAPS" title="XFCE_LOCALE_FULL_MATCH">XFCE_LOCALE_FULL_MATCH</a>
#define             <a class="link" href="libxfce4util-Internationalisation.html#XFCE-LOCALE-NO-MATCH:CAPS" title="XFCE_LOCALE_NO_MATCH">XFCE_LOCALE_NO_MATCH</a>
<span class="returnvalue">guint</span>               <a class="link" href="libxfce4util-Internationalisation.html#xfce-locale-match" title="xfce_locale_match ()">xfce_locale_match</a>                   (<em class="parameter"><code>const <span class="type">gchar</span> *locale1</code></em>,
                                                         <em class="parameter"><code>const <span class="type">gchar</span> *locale2</code></em>);
</pre>
</div>
<div class="refsect1">
<a name="libxfce4util-Internationalisation.description"></a><h2>Description</h2>
<p>
Provides functions to aid application developers making their software
localizable. It extends the basic internationalization support provided
by GLib 2.4 (and newer). See the <a class="ulink" href="http://developer.gnome.org/doc/API/2.0/glib/glib-I18N.html" target="_top">GLib
Internationalization</a> documentation for the information about the
basic functions and macros.
</p>
</div>
<div class="refsect1">
<a name="libxfce4util-Internationalisation.details"></a><h2>Details</h2>
<div class="refsect2">
<a name="xfce-textdomain"></a><h3>xfce_textdomain ()</h3>
<pre class="programlisting"><span class="returnvalue">void</span>                xfce_textdomain                     (<em class="parameter"><code>const <span class="type">gchar</span> *package</code></em>,
                                                         <em class="parameter"><code>const <span class="type">gchar</span> *localedir</code></em>,
                                                         <em class="parameter"><code>const <span class="type">gchar</span> *encoding</code></em>);</pre>
<p>
Sets up the translations for <em class="parameter"><code>package</code></em>.
</p>
<div class="variablelist"><table border="0" class="variablelist">
<colgroup>
<col align="left" valign="top">
<col>
</colgroup>
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>package</code></em> :</span></p></td>
<td>the package name.</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>localedir</code></em> :</span></p></td>
<td>the <em class="parameter"><code>package</code></em>s locale directory.</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>encoding</code></em> :</span></p></td>
<td>the encoding to use the <em class="parameter"><code>package</code></em>s translations
or <code class="literal">NULL</code> to use "UTF-8".</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2">
<a name="xfce-get-file-localized"></a><h3>xfce_get_file_localized ()</h3>
<pre class="programlisting"><span class="returnvalue">gchar</span> *             xfce_get_file_localized             (<em class="parameter"><code>const <span class="type">gchar</span> *filename</code></em>);</pre>
<p>
Checks if theres a version of <em class="parameter"><code>filename</code></em> which is localized to the current
locale. This is done by appending the full locale name to <em class="parameter"><code>filename</code></em>, separated
by a '.'. If theres no file of that name, it retries using the full locale
name without the encoding (if any), then without the qualifier (if any) and
at last the base locale is tried. If all of those fails, a copy of <em class="parameter"><code>filename</code></em>
is returned.
</p>
<div class="variablelist"><table border="0" class="variablelist">
<colgroup>
<col align="left" valign="top">
<col>
</colgroup>
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>filename</code></em> :</span></p></td>
<td>name of a file to look for a localized version.</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td>path of the localized file or copy of <em class="parameter"><code>filename</code></em> if no such
file exists. Returned string should be freed using <code class="function">g_free()</code>.</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2">
<a name="xfce-get-file-localized-r"></a><h3>xfce_get_file_localized_r ()</h3>
<pre class="programlisting"><span class="returnvalue">gchar</span> *             xfce_get_file_localized_r           (<em class="parameter"><code><span class="type">gchar</span> *buffer</code></em>,
                                                         <em class="parameter"><code><span class="type">gsize</span> length</code></em>,
                                                         <em class="parameter"><code>const <span class="type">gchar</span> *filename</code></em>);</pre>
<p>
Similar in functionality to <a class="link" href="libxfce4util-Internationalisation.html#xfce-get-file-localized" title="xfce_get_file_localized ()"><code class="function">xfce_get_file_localized()</code></a>, but stores the
result in <em class="parameter"><code>buffer</code></em> instead of allocating a new buffer.
</p>
<div class="variablelist"><table border="0" class="variablelist">
<colgroup>
<col align="left" valign="top">
<col>
</colgroup>
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>buffer</code></em> :</span></p></td>
<td>destination buffer to store the localized filename to.</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>length</code></em> :</span></p></td>
<td>size of <em class="parameter"><code>buffer</code></em> in bytes.</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>filename</code></em> :</span></p></td>
<td>name of a file to look for a localized version.</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td>pointer to <em class="parameter"><code>buffer</code></em> or <code class="literal">NULL</code> on error.</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2">
<a name="xfce-get-dir-localized"></a><h3>xfce_get_dir_localized ()</h3>
<pre class="programlisting"><span class="returnvalue">gchar</span> *             xfce_get_dir_localized              (<em class="parameter"><code>const <span class="type">gchar</span> *directory</code></em>);</pre>
<p>
Similar to <a class="link" href="libxfce4util-Internationalisation.html#xfce-get-file-localized" title="xfce_get_file_localized ()"><code class="function">xfce_get_file_localized()</code></a>, but works on directory instead of
a file.
</p>
<div class="variablelist"><table border="0" class="variablelist">
<colgroup>
<col align="left" valign="top">
<col>
</colgroup>
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>directory</code></em> :</span></p></td>
<td>directory name to check for a localized variant.</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td>path of the localized directory name or copy of <em class="parameter"><code>directory</code></em> if
no such directory exists. Returned string should be freed using
<code class="function">g_free()</code>.</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2">
<a name="xfce-get-dir-localized-r"></a><h3>xfce_get_dir_localized_r ()</h3>
<pre class="programlisting"><span class="returnvalue">gchar</span> *             xfce_get_dir_localized_r            (<em class="parameter"><code><span class="type">gchar</span> *buffer</code></em>,
                                                         <em class="parameter"><code><span class="type">gsize</span> length</code></em>,
                                                         <em class="parameter"><code>const <span class="type">gchar</span> *directory</code></em>);</pre>
<p>
Similar to <a class="link" href="libxfce4util-Internationalisation.html#xfce-get-file-localized-r" title="xfce_get_file_localized_r ()"><span class="type">xfce_get_file_localized_r</span></a>, but works on directory instead
of regular file.
</p>
<div class="variablelist"><table border="0" class="variablelist">
<colgroup>
<col align="left" valign="top">
<col>
</colgroup>
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>buffer</code></em> :</span></p></td>
<td>destination buffer to store the localized filename to.</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>length</code></em> :</span></p></td>
<td>size of <em class="parameter"><code>buffer</code></em> in bytes.</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>directory</code></em> :</span></p></td>
<td>name of directory to check for localized variant of.</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td>pointer to <em class="parameter"><code>buffer</code></em> or <code class="literal">NULL</code> on error.</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2">
<a name="xfce-get-path-localized"></a><h3>xfce_get_path_localized ()</h3>
<pre class="programlisting"><span class="returnvalue">gchar</span> *             xfce_get_path_localized             (<em class="parameter"><code><span class="type">gchar</span> *dst</code></em>,
                                                         <em class="parameter"><code><span class="type">gsize</span> size</code></em>,
                                                         <em class="parameter"><code>const <span class="type">gchar</span> *paths</code></em>,
                                                         <em class="parameter"><code>const <span class="type">gchar</span> *filename</code></em>,
                                                         <em class="parameter"><code><span class="type">GFileTest</span> test</code></em>);</pre>
<p>
<em class="parameter"><code>paths</code></em> is a ':'-separated list of pathnames.
</p>
<p>
 <code class="literal">F</code>  - The <em class="parameter"><code>filename</code></em>
 <code class="literal">L</code>  - The language string, as returned by
     setlocale(LC_MESSAGES, NULL)
 <code class="literal">l</code>  - The language component of the language string
 <code class="literal">N</code>  - application name
</p>
<p>
Example paths:
</p>
<p>
 /usr/local/lib/<code class="literal">L</code>/<code class="literal">F</code>:/usr/local/share/<code class="literal">N</code>/<code class="literal">l</code>/<code class="literal">F</code>
</p>
<div class="variablelist"><table border="0" class="variablelist">
<colgroup>
<col align="left" valign="top">
<col>
</colgroup>
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>dst</code></em> :</span></p></td>
<td>destination buffer.</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>size</code></em> :</span></p></td>
<td>size of <em class="parameter"><code>dst</code></em> in bytes.</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2">
<a name="XFCE-LOCALE-FULL-MATCH:CAPS"></a><h3>XFCE_LOCALE_FULL_MATCH</h3>
<pre class="programlisting">#define XFCE_LOCALE_FULL_MATCH 50
</pre>
<p>
Returned by <a class="link" href="libxfce4util-Internationalisation.html#xfce-locale-match" title="xfce_locale_match ()"><span class="type">xfce_locale_match</span></a> in case of a full match.
</p>
</div>
<hr>
<div class="refsect2">
<a name="XFCE-LOCALE-NO-MATCH:CAPS"></a><h3>XFCE_LOCALE_NO_MATCH</h3>
<pre class="programlisting">#define XFCE_LOCALE_NO_MATCH    0
</pre>
<p>
Returned by <a class="link" href="libxfce4util-Internationalisation.html#xfce-locale-match" title="xfce_locale_match ()"><span class="type">xfce_locale_match</span></a> if no match could be detected.
</p>
</div>
<hr>
<div class="refsect2">
<a name="xfce-locale-match"></a><h3>xfce_locale_match ()</h3>
<pre class="programlisting"><span class="returnvalue">guint</span>               xfce_locale_match                   (<em class="parameter"><code>const <span class="type">gchar</span> *locale1</code></em>,
                                                         <em class="parameter"><code>const <span class="type">gchar</span> *locale2</code></em>);</pre>
<p>
The locale is of the general form LANG_COUNTRY.ENCODING @ MODIFIER, where
each of COUNTRY, ENCODING and MODIFIER can be absent.
</p>
<p>
The match is done by actually removing the rightmost element one by one. This
is not entirely according to the freedesktop.org specification, but much easier.
Will probably be fixed in the future.
</p>
<div class="variablelist"><table border="0" class="variablelist">
<colgroup>
<col align="left" valign="top">
<col>
</colgroup>
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>locale1</code></em> :</span></p></td>
<td>the current locale value as returned by setlocale(LC_MESSAGES,<code class="literal">NULL</code>).</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>locale2</code></em> :</span></p></td>
<td>the locale value to match against.</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td>an integer value indicating the level of matching, where
the constant <a class="link" href="libxfce4util-Internationalisation.html#XFCE-LOCALE-FULL-MATCH:CAPS" title="XFCE_LOCALE_FULL_MATCH"><span class="type">XFCE_LOCALE_FULL_MATCH</span></a> indicates a full match
and <a class="link" href="libxfce4util-Internationalisation.html#XFCE-LOCALE-NO-MATCH:CAPS" title="XFCE_LOCALE_NO_MATCH"><span class="type">XFCE_LOCALE_NO_MATCH</span></a> means no match. Every other value
indicates a partial match, the higher the value, the better
the match. You should not rely on any specific value besides
the constants <a class="link" href="libxfce4util-Internationalisation.html#XFCE-LOCALE-FULL-MATCH:CAPS" title="XFCE_LOCALE_FULL_MATCH"><span class="type">XFCE_LOCALE_FULL_MATCH</span></a> and <a class="link" href="libxfce4util-Internationalisation.html#XFCE-LOCALE-NO-MATCH:CAPS" title="XFCE_LOCALE_NO_MATCH"><span class="type">XFCE_LOCALE_NO_MATCH</span></a>,
since the range of returned values may change in the future.</td>
</tr>
</tbody>
</table></div>
<p class="since">Since 4.2</p>
</div>
</div>
<div class="refsect1">
<a name="libxfce4util-Internationalisation.see-also"></a><h2>See Also</h2>
<p>
<a class="ulink" href="http://developer.gnome.org/doc/API/2.0/glib/glib-I18N.html" target="_top">GLib
Internationalization</a>
</p>
</div>
</div>
<div class="footer">
<hr>
          Generated by GTK-Doc V1.18</div>
</body>
</html>